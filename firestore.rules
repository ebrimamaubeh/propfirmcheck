/**
 * @fileOverview Firestore Security Rules for the Prop Firm Directory.
 *
 * Core Philosophy:
 * This ruleset prioritizes public readability of prop firm data while restricting write access.
 * This supports the application's primary function as a directory or listing service.
 *
 * Data Structure:
 * The application uses a single top-level collection `/prop_firms/{propFirmId}` to store prop firm documents.
 *
 * Key Security Decisions:
 * - `list` operations are open to the public, as all documents within the `/prop_firms` collection are intended to be publicly visible.
 * - `get` operations are open to the public.
 * - Write operations (create, update, delete) are disallowed for all users. This is a critical security measure. If write access is needed in the future, the rules must be updated to include appropriate authorization checks (e.g., using a role-based access control system or an admin role).
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Grants public read access to prop firm data while denying all write operations.
     * @path /prop_firms/{propFirmId}
     * @allow (get, list) Any user can retrieve or list prop firm documents.
     * @deny (create, update, delete) No user can create, update, or delete prop firm documents.
     * @principle Allows public read access for directory purposes and enforces write restrictions.
     */
    match /prop_firms/{propFirmId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }
  }
}